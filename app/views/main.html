<div class="container">

  <!-- Modal Add item-->
  <div class="modal fade" id="modalDetailCoupon" tabindex="-1" role="dialog" aria-labelledby="modalDetailCoupon" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="myModalLabel">Add Item</h4>

        </div>
        
        <!-- Get the Body + the footer in the form to access the button in the footer-->
        <form name="myForm" class="form-horizontal" ng-submit="saveCoupon()">

          <div class="modal-body">
              
            <div class="form-group"> 
              <label for="itemName" class="control-label col-sm-3">Item Name: </label>
              <div class="col-sm-7">
                <input type="text" ng-model="itemName" class="form-control">
              </div>
            </div>

            <div class="form-group"> 
              <label for="itemQty" class="control-label col-sm-3">Qty: </label>
              <div class="col-sm-3">
                <input type="number" step="1" min="1" ng-model="itemQty" class="form-control">
              </div>
            </div>

            <div class="form-group"> 
              <label for="itemPrice" class="control-label col-sm-3">Item Price: </label>          
              <div class="col-sm-3">
                <input type="number" step="0.01" min="0.01" ng-model="itemPrice" class="form-control" >
              </div>
            </div>
            
            <div class="form-group"> 
              <label for="isTax" class="control-label col-sm-3">Taxable ? </label>
              <div class="col-sm-1">
                <input type="checkbox" ng-model="isTax" class="form-control" >
              </div>
            </div>

            <div class="form-group"> 
              <label for="couponQty" class="control-label col-sm-3">Coupon Qty: </label>
              <div class="col-sm-3">
                <input type="number" step="1" min="1" ng-model="couponQty" class="form-control">
              </div>
            </div>

            <div class="form-group">
              <label for="couponWorth" class="control-label col-sm-3">Coupon Worth: </label>
              <div class="col-sm-3">
                <input type="number" step="0.01" min="0.01" ng-model="couponWorth" class="form-control">
              </div>
            </div>          
            
          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" ng-click="saveCoupon()" data-dismiss="modal">Save</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div>
    <h3>Item & Coupon list

    <!-- Button Add Item modal -->
      <button type="button" class="btn btn-success btn-sm pull-right" data-toggle="modal" data-target="#modalDetailCoupon">
        Add Item
      </button>
    </h3>
    
  </div>


  <!-- Table of Coupon -->
  <div>
    <table class="table table-hover">
      <tr>
        <th>Item Name</th>
        <th>Item Price Total</th>
        <th>Coupon Worth Total</th>
        <th>Total Price</th>
        <th>Action</th>
      </tr> 
      <tr ng-repeat="t in coupons">
        <td><a ng-ref data-toggle="modal" data-target="#modalDetailCoupon" ng-click="detailCoupon($index)">{{t.itemName}}</a></td>
        <td>{{t.itemPriceTotal | currency}}</td>
        <td>{{t.couponWorthTotal | currency}}</td>
        <td>{{t.itemTotalPriceSaving | currency}}</td>
        <td>
          <div>
            <button class="btn btn-danger btn-xs" ng-click="removeCoupon($index)" aria-label="Remove">Delete</button>
          </div>  
        </td>
      </tr>
    </table>
  </div>
 
  <!-- Total Value -->
  <h3>Report</h3>
  <div>
    <table class="table table-striped">
      <tr>
        <th>Total Item</th>
        <th>Total Coupon</th>
        <th>Total Saving</th>
      </tr>
      <tr>
        <td>{{itemPriceTotal | currency}}</td>
        <td>{{couponWorthTotal | currency}}</td>
        <td>{{itemPriceTotal - couponWorthTotal | currency}}</td>
      </tr> 
    </table>
  </div>

</div>
