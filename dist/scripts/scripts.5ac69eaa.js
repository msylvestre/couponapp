"use strict";angular.module("BetsyApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.sortable","LocalStorageModule"]).config(["localStorageServiceProvider",function(a){a.setPrefix("Betsy")}]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/contact",{templateUrl:"views/contact.html",controller:"ContactCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("BetsyApp").controller("MainCtrl",["$scope","localStorageService",function(a,b){function c(){a.itemsPriceTotal=0,a.couponsWorthTotal=0;for(var b=0;b<a.items.length;b++)a.itemsPriceTotal+=a.items[b].itemPriceTotal,a.couponsWorthTotal+=a.items[b].couponWorthTotal;a.amountToPay=a.itemsPriceTotal-a.couponsWorthTotal}function d(){for(var b=0,c=0;c<a.items.length;c++)a.items[c].id>b&&(b=a.items[c].id);return b+1}function e(){a.id="",a.itemName="",a.itemQty="",a.itemPrice="",a.isTax=!1,a.couponWorth="",a.couponQty="",a.itemNotes=""}a.taxPercentage=1.14975;var f=b.get("items"),g=0;a.items=f||[],e(),c(),a.$watch("items",function(){b.set("items",a.items),c()},!0),a.cleanForm=function(){e()},a.saveItem=function(){if(void 0===a.id||""===a.id){var b={id:d(),itemName:a.itemName,itemQty:a.itemQty||0,itemPrice:a.itemPrice||0,isTax:a.isTax,itemPriceTotal:a.addTax(a.itemPrice,a.isTax)*a.itemQty||0,couponWorth:a.couponWorth||0,couponQty:a.couponQty||0,couponWorthTotal:a.couponWorth*a.couponQty||0,itemNotes:a.itemNotes};a.items.push(b)}else a.items[g].itemName=a.itemName,a.items[g].itemQty=a.itemQty,a.items[g].itemPrice=a.itemPrice,a.items[g].isTax=a.isTax,a.items[g].itemPriceTotal=a.addTax(a.itemPrice,a.isTax)*a.itemQty,a.items[g].couponWorth=a.couponWorth,a.items[g].couponQty=a.couponQty,a.items[g].couponWorthTotal=a.couponWorth*a.couponQty,a.items[g].itemNotes=a.itemNotes;e()},a.removeItem=function(b){a.items.splice(b,1)},a.getDetailItem=function(b){g=b,a.id=a.items[b].id,a.itemName=a.items[b].itemName,a.itemQty=a.items[b].itemQty,a.itemPrice=a.items[b].itemPrice,a.isTax=a.items[b].isTax,a.couponWorth=a.items[b].couponWorth,a.couponQty=a.items[b].couponQty,a.itemNotes=a.items[b].itemNotes},a.addTax=function(b,c){return c?b*a.taxPercentage:b}}]),angular.module("BetsyApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("BetsyApp").controller("ContactCtrl",["$scope",function(a){a.contact="Synergy Consultant"}]);